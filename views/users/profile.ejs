<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMPACT | Profile</title>
    <%- include('../partials/style') %>

</head>
<body class="userProfile">
<%- include('../partials/nav') %>

<div class="flex-container">
    <div class="card" style="width: 25rem; height: 35rem;">

    <img src="<%= foundUser.imageLink %>" class="card-img-top" id="profilePicture" alt="User Profile Picture">

    <div class="profileDetails">
        Name: <%= foundUser.username %> <br>
        Location: <%= foundUser.location %><br>
        Passions: <%= foundUser.passions %><br>
        Member Since: <%= foundUser.createdAt %><br>
        <% if(user) { %>
            <a href="/users/<%= foundUser._id %>/edit">Edit Profile</a>
        <% } %>
        </div>
    </div>
</div>

   <!-- ###################################### -->

<div class="userContributions">
    <h4><%= foundUser.username %>'s Contributions</h4>
    <div class="flex-container">
        <% foundUser.products.forEach(product => { %>
            <div class="card" style="width: 15rem;">
                <a href="<%= product.productLink %>"><img src="<%= product.imageLink %>" class="card-img-top"></a>
                <div class="card-body">
                    <a id="productTitleLink" href="<%= product.productLink %>"><h6><%= product.title %></h6></a>
                  <!-- <p class="card-text"><%= product.description %></p> -->
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                        <form action="/products/<%= product._id %>/edit">
                            <input class= "btn btn-primary" id="profileProduct" type="submit" value="Edit" />
                        </form>
                        <form action="/products/<%= product._id %>?_method=DELETE" method="POST">
                            <input class= "btn btn-primary" id="profileProduct" type="submit" value="Delete">
                    </div>
                </div>
                <small class="text-muted"><%= product.category %></small>
                </div>
            </div>
        <% }) %>
</div>
    
    <footer>
        <%- include('../partials/footer') %>
    </footer>
</body>
</html>